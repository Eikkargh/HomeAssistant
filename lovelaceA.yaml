title: Home
views:
  - theme: Backend-selected
    title: HOME
    path: home
    type: panel
    cards:
      - type: horizontal-stack
        cards:
          - type: vertical-stack
            cards:
              - type: entities
                entities:
                  - entity: light.kid_light
                    name: Main Light
                  - entity: light.kid_strip_light
                    name: LED lights
                state_color: true
                title: Kid Room
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 30px;
                    }
                    #states > div {
                      margin: 0px 0px !important;
                    }
              - type: entities
                entities:
                  - entity: light.back_door_light
                  - entity: light.stairs_light
                    name: Stairs - Light
                  - entity: light.aromatherapy_machine
                    name: Mist Machine Light
                  - entity: sensor.pet_feeder_feed_status
                    name: Pet Feed Status
                    card_mod:
                      style: |
                        :host {
                          --paper-item-icon-color: {{
                            '#00FF00' if states('sensor.pet_feeder_feed_status') == "Feed Due" else 
                            '#FF0000' if states('sensor.pet_feeder_feed_status').split(':')[0] == "Ahead" else 
                            '#0000FF' }};
                        }
                  - entity: input_button.pet_feeder_feed
                    show_name: true
                    show_icon: true
                    type: button
                    tap_action:
                      action: call-service
                      service: script.pet_feeder_feed
                      data: {}
                      target: {}
                    name: Feed
                    card_mod:
                      style: |
                        :host {
                          --paper-item-icon-color: {{
                            '#00FF00' if states('sensor.pet_feeder_feed_status') == "Feed Due" else 
                            '#FF0000' if states('sensor.pet_feeder_feed_status').split(':')[0] == "Ahead" else 
                            '#0000FF' }};
                        }
                title: Kitchen/Dinning Room
                state_color: true
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 30px;
                    }
                    #states > div {
                      margin: 0px 0px !important;
                    }
              - show_name: false
                show_icon: true
                show_state: true
                type: glance
                entities:
                  - entity: binary_sensor.dining_room_motion
                    name: Dining Motion - Detect
                    card_mod:
                      style: |
                        :host { 
                        --paper-item-icon-color: {{ 
                          '#A12A23' if is_state('sensor.dining_motion_detected', 'True') else 
                          '#4287F5'}}; 
                        }
                  - entity: binary_sensor.dining_room_light_sensor
                    name: Dining Motion - Brightness
                    card_mod:
                      style: |
                        :host { 
                        --paper-item-icon-color: {{ 
                          '#4287f5' if is_state('sensor.dining_motion_brightness', 'dim') else 
                          '#D9A338'}}; 
                        }
                  - entity: sensor.dining_room_motion_sensor_battery
                    name: Dining Motion - Battery
                    card_mod:
                      style: |
                        :host {
                          --paper-item-icon-color: {{
                            '#00FF00' if states('sensor.dining_room_motion_sensor_battery') | float > 75 else
                            '#FF8F07' if states('sensor.dining_room_motion_sensor_battery') | float > 25 else
                            '#FF0000' }}; 
                          padding: 0  16px 0;
                        }
                        state-badge {
                          padding: 0px !important;
                        }
                  - entity: humidifier.aromatherapy_machine
                card_mod:
                  style: |
                    :host {
                      --mdc-icon-size: 25px;
                      line-height: 25px;  
                    }
                    ha-card {
                      border-radius: 50px;
                    }
                    div.entities.no-header {
                      padding: 0 !important;
                    }
                    .entity {
                      margin-bottom: 5px !important;
                    }
              - type: vertical-stack
                cards:
                  - type: entities
                    entities:
                      - entity: input_number.ewpe_dehumidifier_set_humidity
                        name: Target Humidity
                    state_color: true
                    show_header_toggle: false
                    title: Dehumidifier
                    card_mod:
                      style: |
                        ha-card {
                          border-radius: 30px;
                          --ha-card-header-font-size: 16px;
                        }
                        .card-header {
                          padding: 0 15px 0 !important;
                        }
                        #states > div {
                          margin: 0px 0px !important;
                        }
                  - type: horizontal-stack
                    cards:
                      - show_name: false
                        show_icon: true
                        type: button
                        tap_action:
                          action: toggle
                        entity: switch.ewpe_dehumidifier_power
                        show_state: true
                        icon_height: 24px
                        name: Power
                        card_mod:
                          style: |
                            :host {
                              --ha-card-border-color: {{
                                '#ffc107' if state_attr('sensor.ewpe_dehumidifier','Pow') == 1 else
                                '#444444'}} !important;
                            }
                            ha-card {
                              border-radius: 50px;
                              margin: 1px;
                            }
                      - show_name: false
                        show_icon: true
                        type: button
                        tap_action:
                          action: toggle
                        entity: switch.ewpe_dehumidifier_fan
                        show_state: true
                        icon_height: 24px
                        name: Fan
                        card_mod:
                          style: |
                            :host {
                              --ha-card-border-color: {{
                                '#ffc107' if state_attr('sensor.ewpe_dehumidifier','WdSpd') == 3 else
                                '#444444'}} !important;
                            }
                            ha-card {
                              border-radius: 50px;
                            }
                      - show_name: false
                        show_icon: true
                        type: button
                        tap_action:
                          action: toggle
                        entity: switch.ewpe_dehumidifier_health
                        name: Health
                        show_state: true
                        icon_height: 24px
                        card_mod:
                          style: |
                            :host {
                              --ha-card-border-color: {{
                                '#ffc107' if state_attr('sensor.ewpe_dehumidifier','Health') == 1 else
                                '#444444'}} !important;
                            }
                            ha-card {
                              border-radius: 50px;
                            }
                      - show_name: false
                        show_icon: true
                        type: button
                        tap_action:
                          action: toggle
                        entity: switch.ewpe_dehumidifier_led
                        show_state: true
                        icon_height: 24px
                        name: Power
                        card_mod:
                          style: |
                            :host {
                              --ha-card-border-color: {{
                                '#ffc107' if state_attr('sensor.ewpe_dehumidifier','Lig') == 1 else
                                '#444444'}} !important;
                            }
                            ha-card {
                              border-radius: 50px;
                              margin: 1px;
                            }
                  - show_name: false
                    show_icon: true
                    show_state: true
                    type: glance
                    entities:
                      - entity: sensor.ewpe_dehumidifier_full
                        card_mod:
                          style: |
                            :host { 
                              --paper-item-icon-color: {{
                                '#00FF00' if states('sensor.ewpe_dehumidifier_full') == "OK" else 
                                '#FF0000' if states('sensor.ewpe_dehumidifier_full') == "Full" else 
                                '#CC6600' }};
                            }
                            state-badge {
                              padding: 0px !important;
                            }
                      - entity: sensor.ewpe_dehumidifier_humidity
                        card_mod:
                          style: |
                            :host { 
                              --paper-item-icon-color: {{
                                '#FF0000' if (states('sensor.ewpe_dehumidifier_humidity') | int) < 30 else 
                                '#0000FF' if (states('sensor.ewpe_dehumidifier_humidity') | int) > 60 else 
                                '#00FF00' }};
                            }
                            state-badge {
                              padding: 0px !important;
                            }
                      - entity: sensor.ewpe_dehumidifier_temp
                        card_mod:
                          style: |
                            :host { 
                              --paper-item-icon-color: {{
                                '#FF0000' if states('sensor.ewpe_dehumidifier_temp') | float > 30 else
                                '#FF8F07' if states('sensor.ewpe_dehumidifier_temp') | float > 25 else
                                '#FFC407' if states('sensor.ewpe_dehumidifier_temp') | float > 20 else 
                                '#00FF00' if states('sensor.ewpe_dehumidifier_temp') | float > 15 else
                                '#0066FF' if states('sensor.ewpe_dehumidifier_temp') | float > 3 else
                                '#FFFFFF' }};
                            }
                            state-badge {
                              padding: 0px !important;
                            }
                      - entity: sensor.ewpe_dehumidifier_filter
                        tap_action:
                          action: call-service
                          service: button.press
                          service_data:
                            entity_id: button.ewpe_dehumidifier_cleaned
                        card_mod:
                          style: |
                            :host { 
                              --paper-item-icon-color: {{
                                '#00FF00' if states('sensor.ewpe_dehumidifier_filter') == "OK" else 
                                '#FF0000' if states('sensor.ewpe_dehumidifier_filter') == "Change" else 
                                '#CC6600' }};
                            }
                            state-badge {
                              padding: 0px !important;
                            }
                    state_color: false
                    card_mod:
                      style: |
                        :host {
                          --mdc-icon-size: 25px;
                          line-height: 25px;  
                        }
                        ha-card {
                          border-radius: 50px;
                        }
                        div.entities.no-header {
                          padding: 0 !important;
                        }
                        .entity {
                          margin-bottom: 5px !important;
                        }
          - type: vertical-stack
            cards:
              - type: custom:clock-weather-card
                entity: weather.forecast_home
                sun_entity: sun.sun
                weather_icon_type: line
                animated_icon: true
                forecast_days: 5
                locale: en
                time_format: 24
                scale: 80
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 30px;
                    }
                    .card-content {
                      padding: 0 10px 16px 10px !important;
                    }
              - type: custom:config-template-card
                variables:
                  - states['sensor.washer_dryer_max_time'].state
                  - states['sensor.washer_dryer_delay_time'].state
                  - states['sensor.washer_dryer_wash_time'].state
                  - states['sensor.washer_dryer_dry_time'].state
                entities:
                  - sensor.washer_dryer_max_time
                  - sensor.washer_dryer_total_time
                  - sensor.washer_dryer_delay_time
                  - sensor.washer_dryer_wash_time
                  - sensor.washer_dryer_dry_time
                card:
                  type: custom:bar-card
                  entities:
                    - entity: sensor.washer_dryer_total_time
                      name: |-
                        "${vars[1] > 0 ? 'Washer/Dryer - Delayed'
                         : vars[3] != 'Dry Off' ? 'Washer/Dryer - Drying' 
                         : vars[2] > 0 ? 'Washer/Dryer - Washing' 
                         : 'Washer/Dryer - Finished'}"
                      unit_of_measurement: mins
                      min: '0'
                      max: ${+vars[0]}
                      icon: mdi:washing-machine
                      positions:
                        indicator: 'off'
                      severity:
                        - color: |-
                            "${vars[1] > 0 ? '#7634c7'
                             : vars[3] != 'Dry Off' ? '#c77634'
                             : vars[2] > 0 ? '#2F5A9E'
                             : '#a32e2e'}"
                          from: 0
                          to: 2000
                  tap_action:
                    action: navigate
                    navigation_path: /lovelace-eikka/washing-machine/
                  card_mod:
                    style: |
                      :host {
                        --ha-card-border-radius: 30px;
                      }
                      .card-content {
                        padding: 5px !important;
                      }
                      #states > div {
                        margin: 0px 0px !important;
                      }
              - square: false
                columns: 2
                type: grid
                cards:
                  - show_name: true
                    show_icon: true
                    type: button
                    hold_action:
                      action: more-info
                    tap_action:
                      action: toggle
                    entity: light.kid_room_lights
                    name: Kid Room
                    show_state: true
                    icon_height: 40px
                    card_mod:
                      style: |
                        ha-card {
                          margin: 0px 20px 0px 20px;
                          border-radius: 100px;
                          border-style: solid;
                          border-color: rgb{{ state_attr('light.kid_room_lights','rgb_color') }} !important;
                        }
                  - show_name: true
                    show_icon: true
                    type: button
                    hold_action:
                      action: more-info
                    tap_action:
                      action: toggle
                    entity: light.bedroom_lights
                    name: Bedroom
                    show_state: true
                    icon_height: 40px
                    card_mod:
                      style: |
                        ha-card {
                          margin: 0px 20px 0px 20px;
                          border-radius: 100px;
                          border-style: solid;
                          border-color: rgb{{ state_attr('light.bedroom_lights','rgb_color') }} !important;
                        }
                  - show_name: true
                    show_icon: true
                    type: button
                    hold_action:
                      action: more-info
                    tap_action:
                      action: toggle
                    entity: light.kitchen_dining_lights
                    name: Kitchen/ Dining
                    show_state: true
                    icon_height: 40px
                    card_mod:
                      style: |
                        ha-card {
                          margin: 0px 20px 0px 20px;
                          border-radius: 100px;
                          border-style: solid;
                          border-color: rgb{{ state_attr('light.kitchen_dining_lights','rgb_color') }} !important;
                        }
                  - show_name: true
                    show_icon: true
                    type: button
                    hold_action:
                      action: more-info
                    tap_action:
                      action: toggle
                    entity: light.living_room_lights
                    show_state: true
                    name: Living Room
                    icon_height: 40px
                    card_mod:
                      style: |
                        ha-card {
                          margin: 0px 20px 0px 20px;
                          border-radius: 100px;
                          border-style: solid;
                          border-color: rgb{{ state_attr('light.living_room_lights','rgb_color') }} !important;
                        }
              - show_name: true
                show_icon: false
                type: button
                entity: scene.lights_white
                show_state: false
                tap_action:
                  action: toggle
                card_mod:
                  style: |
                    :host {
                      --ha-card-border-radius: 30px;
                    }
          - type: vertical-stack
            cards:
              - type: entities
                entities:
                  - entity: light.bedroom_light
                    name: Main Light
                  - entity: light.bedroom_fairy_lights
                    name: Fairy Lights
                  - entity: light.bedroom_strip_light
                    name: Desk Lights
                  - entity: fan.bedroom_fan
                    name: Fan Plug
                title: Bedroom
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 30px;
                    }
                    #states > div {
                      margin: 0px 0px !important;
                    }
              - type: custom:mini-media-player
                entity: media_player.27_smart_monitor_m5
                name: Bedroom TV
                card_mod:
                  style: |
                    :host {
                      --mmp-border-radius: 30px !important;
                    }
                    ha-card {
                      border-radius: 30px;
                      margin: 0px 6px;
                      --ha-card-header-font-size: 20px;
                    }
              - show_name: false
                show_icon: true
                show_state: true
                type: glance
                entities:
                  - entity: sensor.bedroom_meter_temperature
                    card_mod:
                      style: |
                        :host {
                          --paper-item-icon-color: {{
                            '#FF0000' if states('sensor.bedroom_temp') | float > 30 else
                            '#FF8F07' if states('sensor.bedroom_temp') | float > 25 else
                            '#FFC407' if states('sensor.bedroom_temp') | float > 20 else 
                            '#00FF00' if states('sensor.bedroom_temp') | float > 15 else
                            '#0066FF' if states('sensor.bedroom_temp') | float > 3 else
                            '#FFFFFF' }}; 
                          padding: 0  16px 0;
                        }
                        state-badge {
                          padding: 0px !important;
                        }
                  - entity: sensor.bedroom_meter_battery
                    card_mod:
                      style: |
                        :host {
                          --paper-item-icon-color: {{
                            '#00FF00' if states('sensor.bedroom_sensor_battery') | float > 75 else
                            '#FF8F07' if states('sensor.bedroom_sensor_battery') | float > 25 else
                            '#FF0000' }}; 
                          padding: 0  16px 0;
                        }
                        state-badge {
                          padding: 0px !important;
                        }
                  - entity: sensor.bedroom_meter_humidity
                    card_mod:
                      style: |
                        :host { 
                          --paper-item-icon-color: {{  
                            '#00FFFF' if states('sensor.bedroom_humidity') | float > 60 else 
                            '#00FF00' if states('sensor.bedroom_humidity') | float > 30 else 
                            '#CCCC00' }}; 
                        }
                        state-badge {
                          padding: 0px !important;
                        }
                card_mod:
                  style: |
                    :host {
                      --mdc-icon-size: 25px;
                      line-height: 25px;  
                    }
                    ha-card {
                      border-radius: 50px;
                    }
                    div.entities.no-header {
                      padding: 0 !important;
                    }
                    .entity {
                      margin-bottom: 5px !important;
                    }
              - type: entities
                entities:
                  - entity: light.living_room_shelf_lamp
                    name: Floor Lamp
                  - entity: light.living_room_side_lamp
                    name: Corner Light
                  - entity: light.living_room_floor_lamp
                    name: Shelf Lamp
                  - entity: light.galaxy_light
                    name: Galaxy Light
                  - entity: switch.living_room_fan_heater
                    name: Fan Heater
                    card_mod:
                      style: |
                        :host {
                          --paper-item-icon-color: 
                            {{ '#FF0000' if is_state('climate.fan_heater', 'heat') else  
                            '#337FFF'}};
                        }
                title: Living Room
                state_color: true
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 30px;
                    }
                    #states > div {
                      margin: 0px 0px !important;
                    }
              - square: false
                columns: 3
                type: grid
                cards:
                  - show_name: false
                    show_icon: true
                    show_state: true
                    type: glance
                    entities:
                      - entity: sensor.living_room_temp
                        card_mod:
                          style: |
                            :host {
                              --paper-item-icon-color: {{
                                '#FF0000' if states('sensor.living_room_temp') | float > 30 else
                                '#FF8F07' if states('sensor.living_room_temp') | float > 25 else
                                '#FFC407' if states('sensor.living_room_temp') | float > 20 else 
                                '#00FF00' if states('sensor.living_room_temp') | float > 15 else
                                '#0066FF' if states('sensor.living_room_temp') | float > 3 else
                                '#FFFFFF' }}; 
                              padding: 0  16px 0;
                            }
                            state-badge {
                              padding: 0px !important;
                            }
                      - entity: binary_sensor.pir_sensor_motion
                        card_mod:
                          style: |
                            :host {
                              --paper-item-icon-color: {{
                                '#FFC407' if states('binary_sensor.pir_sensor') == "Detected" else
                                '#0055FF' }};
                              }
                      - entity: sensor.pir_sensor_battery
                    card_mod:
                      style: |
                        :host {
                          --mdc-icon-size: 25px;
                          line-height: 25px;  
                        }
                        ha-card {
                          border-radius: 50px;
                        }
                        div.entities.no-header {
                          padding: 0 !important;
                        }
                        .entity {
                          margin-bottom: 5px !important;
                        }
                  - show_name: true
                    name: Waterer
                    show_icon: true
                    type: button
                    tap_action:
                      action: call-service
                      service: mqtt.publish
                      data:
                        topic: waterer/waterpump
                        payload: Requested
                      target: {}
                    hold_action:
                      action: call-service
                      service: mqtt.publish
                      data:
                        topic: waterer/waterpump
                        payload: Cancelled
                      target: {}
                    double_tap_action:
                      action: navigate
                      navigation_path: waterer
                    entity: button.water_pump
                    icon: mdi:water-pump
                    icon_height: 40px
                    card_mod:
                      style: |
                        :host { 
                          --state-unavailable-color: {{
                            '#FFFF00' if is_state('sensor.waterer_pump', 'Requested') else 
                            '#CC6600' if is_state('sensor.waterer_pump', 'Cancelled') else 
                            '#00FFFF' if is_state('sensor.waterer_pump', 'Low Water') else 
                            '#00FF00' if is_state('sensor.waterer_status', 'Moist') else 
                            '#FF0000' if is_state('sensor.waterer_status', 'Dry') else 
                            '#0000FF' }} !important; 
                          --paper-item-icon-color: {{  
                            '#FFFF00' if is_state('sensor.waterer_pump', 'Requested') else 
                            '#CC6600' if is_state('sensor.waterer_pump', 'Cancelled') else 
                            '#00FFFF' if is_state('sensor.waterer_pump', 'Low Water') else 
                            '#00FF00' if is_state('sensor.waterer_status', 'Moist') else
                            '#FF0000' if is_state('sensor.waterer_status', 'Dry') else 
                            '#0000FF' }}; 
                        }
                        ha-card {
                          margin: 0px 10px 0px 10px;
                          border-radius: 100px;
                          border-style: solid;
                          border-color: {{ 
                            '#FFFF00' if is_state('sensor.waterer_pump', 'Requested') else 
                            '#CC6600' if is_state('sensor.waterer_pump', 'Cancelled') else 
                            '#00FFFF' if is_state('sensor.waterer_pump', 'Low Water') else 
                            '#00FF00' if is_state('sensor.waterer_status', 'Moist')  else  
                            '#FF0000' if is_state('sensor.waterer_status', 'Dry') else 
                            '#0000FF' }}; 
                        }
                  - show_name: false
                    show_icon: true
                    show_state: true
                    type: glance
                    entities:
                      - entity: sensor.waterer_status
                        name: Soil State
                        icon: mdi:sprout
                        card_mod:
                          style: |
                            :host { 
                            --paper-item-icon-color: {{ 
                              '#00FF00' if is_state('sensor.waterer_status', 'Moist') else 
                              '#FF0000' if is_state('sensor.waterer_status', 'Dry') else 
                              '#0000FF' }}; 
                            }
                      - entity: sensor.waterer_moisture
                        name: Moisture
                        icon: mdi:water
                        card_mod:
                          style: |
                            :host { 
                            --paper-item-icon-color: {{ 
                              '#00FF00' if is_state('sensor.waterer_status', 'Moist') else 
                              '#FF0000' if is_state('sensor.waterer_status', 'Dry') else 
                              '#0000FF' }}; 
                            }
                    state_color: true
                    card_mod:
                      style: |
                        :host {
                          --mdc-icon-size: 25px;
                          line-height: 25px;  
                        }
                        ha-card {
                          border-radius: 50px;
                        }
                        div.entities.no-header {
                          padding: 0 !important;
                        }
                        .entity {
                          margin-bottom: 5px !important;
                        }
    icon: mdi:home
  - theme: Backend-selected
    type: panel
    icon: mdi:cctv
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: entities
            entities: []
            title: Cameras
            card_mod:
              style: |
                .card-header {
                  padding: 5px 16px 10px 16px;
                  justify-content: center !important;
                }
                .card-header {
                  padding: 0px 16px 7px 16px;
                  justify-content: center !important;
                  line-height: 2;
                }
                .card-content {
                  padding: 0;
                }
          - type: horizontal-stack
            cards:
              - type: vertical-stack
                cards:
                  - camera_view: live
                    type: picture-glance
                    title: Back Door
                    image: https://demo.home-assistant.io/stub_config/kitchen.png
                    entities:
                      - entity: light.back_door_light
                    camera_image: camera.porch_cam_hd_stream
                  - type: horizontal-stack
                    cards:
                      - type: custom:bar-card
                        entities:
                          - {}
                      - type: vertical-stack
                        cards:
                          - square: false
                            type: grid
                            cards:
                              - show_name: false
                                show_icon: true
                                type: button
                                tap_action:
                                  action: toggle
                                entity: siren.porch_cam_siren
                                icon: mdi:bullhorn
                                icon_height: 20px
                              - show_name: false
                                show_icon: true
                                type: button
                                tap_action:
                                  action: toggle
                                entity: button.porch_cam_move_up
                                icon_height: 20px
                              - show_name: false
                                show_icon: true
                                type: button
                                tap_action:
                                  action: toggle
                                entity: switch.porch_cam_auto_track
                                icon_height: 20px
                              - show_name: false
                                show_icon: true
                                type: button
                                tap_action:
                                  action: toggle
                                entity: button.porch_cam_move_left
                                icon_height: 20px
                              - show_name: false
                                show_icon: true
                                type: button
                                tap_action:
                                  action: toggle
                                entity: select.porch_cam_move_to_preset
                                icon_height: 20px
                              - show_name: false
                                show_icon: true
                                type: button
                                tap_action:
                                  action: toggle
                                entity: button.porch_cam_move_right
                                icon_height: 20px
                              - show_name: false
                                show_icon: true
                                type: button
                                tap_action:
                                  action: toggle
                                entity: select.porch_cam_automatic_alarm
                                icon_height: 20px
                              - show_name: false
                                show_icon: true
                                type: button
                                tap_action:
                                  action: toggle
                                entity: button.porch_cam_move_down
                                icon_height: 20px
                              - show_name: false
                                show_icon: true
                                type: button
                                tap_action:
                                  action: toggle
                                entity: button.porch_cam_manual_alarm_stop
                                icon_height: 20px
                            columns: 3
                          - type: entities
                            entities:
                              - entity: number.porch_cam_microphone_volume
                            show_header_toggle: false
                            title: Volume
                      - type: custom:bar-card
                        entities:
                          - {}
              - type: vertical-stack
                cards:
                  - camera_view: live
                    type: picture-glance
                    title: Bedroom
                    image: https://demo.home-assistant.io/stub_config/kitchen.png
                    entities:
                      - entity: light.bedroom_lights
                      - entity: light.bedroom_light
                      - entity: light.bedroom_strip_light
                      - entity: light.bedroom_fairy_lights
                    camera_image: camera.bedroom
  - theme: Backend-selected
    icon: mdi:water-percent
    type: panel
    badges: []
    cards:
      - type: horizontal-stack
        cards:
          - type: custom:config-template-card
            variables:
              - states['sensor.ewpe_dehumidifier_humidity'].state
            entities:
              - sensor.ewpe_dehumidifier_humidity
            card:
              type: custom:mini-graph-card
              entities:
                - entity: sensor.ewpe_dehumidifier_humidity
                  name: Kid Room - Humidity
              hours_to_show: 168
              points_per_hour: 1
              animate: true
              show:
                fill: true
                unit: true
                points: false
                group: true
                extrema: true
                name_adaptive_color: true
              color_thresholds:
                - value: 0
                  color: '#FF0000'
                - value: 55
                  color: '#00FF00'
                - value: 60
                  color: '#4444FF'
              card_mod:
                style: |
                  ha-card {
                    margin: 0 10px 0 0;
                    border-radius: 15px;
                    --paper-item-icon-color: {{ 
                      '#FF0000' if states('sensor.ewpe_dehumidifier_humidity') | float() < 40 else 
                      '#00FF00' if states('sensor.ewpe_dehumidifier_humidity') | float() < 60 else 
                      '#4444FF' }};
                  }
                  div.header.flex {
                    justify-content: center;
                  }
                  ha-card > div {
                    padding: 0px !important;
                  }
                  .states.flex {
                    justify-content: center !important;
                    margin: -10px 0px -60px 0px;
                  }
          - type: vertical-stack
            cards:
              - type: entities
                entities:
                  - entity: switch.ewpe_dehumidifier_power
                    name: Power
                  - entity: switch.ewpe_dehumidifier_fan
                    name: Fan Boost
                  - entity: switch.ewpe_dehumidifier_health
                    name: Health
                  - entity: input_number.ewpe_dehumidifier_set_humidity
                    name: Target Humidity
                    icon: mdi:water-percent
                  - entity: input_button.dehumidifier_filter_cleaned
                    secondary_info: none
                    name: Cleaning Complete
                    icon: mdi:faucet
                    tap_action:
                      action: call-service
                      service: script.ewpe_dehumidifier_cleaned
                      data: {}
                      target: {}
                    card_mod:
                      style: |
                        :host {
                          --paper-item-icon-color: {{
                            '#FF0000' if states('sensor.ewpe_dehumidifier_filter') == "Change" else
                            '#00FF00' }};
                          }
                state_color: true
                show_header_toggle: false
                title: Dehumidifier
                card_mod:
                  style: |
                    .card-header {
                      padding: 5px 16px 10px 16px;
                      justify-content: center !important;
                    }
              - show_name: false
                show_icon: true
                show_state: true
                type: glance
                entities:
                  - entity: sensor.ewpe_dehumidifier_full
                    card_mod:
                      style: |
                        :host { 
                          --paper-item-icon-color: {{
                            '#00FF00' if states('sensor.ewpe_dehumidifier_full') == "OK" else 
                            '#FF0000' if states('sensor.ewpe_dehumidifier_full') == "Full" else 
                            '#CC6600' }};
                        }
                  - entity: sensor.ewpe_dehumidifier_humidity
                    card_mod:
                      style: |
                        :host { 
                          --paper-item-icon-color: {{
                            '#FF0000' if (states('sensor.ewpe_dehumidifier_humidity') | int) < 30 else 
                            '#0000FF' if (states('sensor.ewpe_dehumidifier_humidity') | int) > 60 else 
                            '#00FF00' }};
                        }
                  - entity: sensor.ewpe_dehumidifier_temp
                    card_mod:
                      style: |
                        :host { 
                          --paper-item-icon-color: {{
                            '#0000FF' if (states('sensor.ewpe_dehumidifier_temp') | int) < 15 else 
                            '#FF0000' if (states('sensor.ewpe_dehumidifier_temp') | int) > 20 else 
                            '#00FF00' }};
                        }
                  - entity: sensor.ewpe_dehumidifier_filter
                    card_mod:
                      style: |
                        :host { 
                          --paper-item-icon-color: {{
                            '#00FF00' if states('sensor.ewpe_dehumidifier_filter') == "OK" else 
                            '#FF0000' if states('sensor.ewpe_dehumidifier_filter') == "Change" else 
                            '#CC6600' }};
                        }
                state_color: false
          - type: custom:config-template-card
            variables:
              - states['sensor.bedroom_meter_humidity'].state
            entities:
              - sensor.bedroom_meter_humidity
            card:
              type: custom:mini-graph-card
              entities:
                - entity: sensor.bedroom_meter_humidity
                  name: Bedroom - Humidity
              hours_to_show: 168
              points_per_hour: 1
              animate: true
              show:
                fill: true
                unit: true
                points: false
                group: true
                extrema: true
                name_adaptive_color: true
              color_thresholds:
                - value: 0
                  color: '#FF0000'
                - value: 55
                  color: '#00FF00'
                - value: 60
                  color: '#4444FF'
              card_mod:
                style: |
                  ha-card {
                    margin: 0 10px 0 0;
                    border-radius: 15px;
                    --paper-item-icon-color: {{ 
                      '#FF0000' if states('sensor.ewpe_dehumidifier_humidity') | float() < 40 else 
                      '#00FF00' if states('sensor.ewpe_dehumidifier_humidity') | float() < 60 else 
                      '#4444FF' }};
                  }
                  div.header.flex {
                    justify-content: center;
                  }
                  ha-card > div {
                    padding: 0px !important;
                  }
                  .states.flex {
                    justify-content: center !important;
                    margin: -10px 0px -60px 0px;
                  }
  - theme: Backend-selected
    icon: mdi:cat
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: entities
            entities:
              - entity: input_number.pet_feeder_first_feed
                name: First Feed
                icon: mdi:calendar
              - entity: input_number.pet_feeder_last_feed
                name: Last Feed
                icon: mdi:calendar
              - entity: sensor.pet_feeder_active_time
                name: Active Time
                icon: mdi:calendar
              - entity: input_number.pet_feeder_feeds_day
                name: Feeds / Day
              - entity: sensor.pet_feeder_feed_total
                name: Feeds Recorded
                icon: mdi:bowl-mix
              - entity: sensor.pet_feeder_feeds_due
                name: Feeds Due
                icon: mdi:bowl-mix-outline
              - entity: sensor.pet_feeder_last_feed
                name: Time of Last Feed
                icon: mdi:bowl-outline
              - entity: sensor.pet_feeder_feed_status
                name: Feed Status
                icon: mdi:bowl-outline
                card_mod:
                  style: |
                    :host { 
                      --paper-item-icon-color: {{
                        '#00FF00' if states('sensor.pet_feeder_feed_status') == "Feed Due" else 
                        '#FF0000' if states('sensor.pet_feeder_feed_status') == "Ahead" else 
                        '#0000FF' }};
                    }
              - entity: sensor.pet_feeder_error_text
                name: Error
                icon: mdi:alert-circle
                card_mod:
                  style: |
                    :host { 
                      --paper-item-icon-color: {{
                        '#00FF00' if states('sensor.pet_feeder_error_text') == "No Errors" else 
                        '#FF0000' if states('sensor.pet_feeder_error_text') == "Low Food" else 
                        '#7701FE' }};
                    }
              - entity: sensor.pet_feeder_battery
                name: Battery Status
                card_mod:
                  style: |
                    :host { 
                      --paper-item-icon-color: {{
                        '#FF0000' if states('sensor.pet_feeder_battery_status') == "Empty" else
                        '#00FF00' if states('sensor.pet_feeder_battery_status') == "Full" else
                        '#CC6600' if states('sensor.pet_feeder_battery_status') == "Low" else
                        '#66CC00' }};
                    }
            title: Pet Feeder
            show_header_toggle: false
            card_mod:
              style: |
                ha-card {
                  border-radius: 30px;
                }
                #states > div {
                  margin: 0px 0px !important;
                }
                .card-header {
                  padding: 5px 16px 10px 16px;
                  justify-content: center !important;
                }
          - type: entities
            entities:
              - entity: input_number.pet_feeder_portion
                name: Portion Size
            card_mod:
              style: |
                ha-card {
                  border-radius: 30px;
                }
                #states > div {
                  margin: 0px 0px !important;
                }
          - show_name: true
            show_icon: true
            type: button
            tap_action:
              action: call-service
              service: script.pet_feeder_feed
              data: {}
              target: {}
            entity: input_button.pet_feeder_feed
            name: Feed
            icon_height: 40px
            hold_action:
              action: none
            card_mod:
              style: |
                :host { 
                  --paper-item-icon-color:{{
                        '#00FF00' if states('sensor.pet_feeder_feed_status') == "Feed Due" else 
                        '#FF0000' if states('sensor.pet_feeder_feed_status') == "Ahead" else 
                        '#0000FF' }};
                }
                ha-card {
                margin: 0px 40px 0px 40px;
                border-radius: 100px;
                border-style: solid;
                border-color:{{
                        '#00FF00' if states('sensor.pet_feeder_feed_status') == "Feed Due" else 
                        '#FF0000' if states('sensor.pet_feeder_feed_status') == "Ahead" else 
                        '#0000FF' }}; 
                }
      - type: vertical-stack
        cards:
          - type: entities
            entities: []
            title: Meal Plan
            card_mod:
              style: |
                ha-card {
                  border-radius: 30px;
                }
                #states > div {
                  margin: 0px 0px !important;
                }
                .card-header {
                  padding: 5px 16px 0px 16px;
                  justify-content: center !important;
                }
          - show_name: false
            show_icon: false
            show_state: true
            type: glance
            entities:
              - entity: sensor.slot_1
              - entity: sensor.pet_feeder_meal_plan_slot_1_power
              - entity: sensor.pet_feeder_meal_plan_slot_1_portions
              - entity: sensor.pet_feeder_meal_plan_slot_1_time
              - entity: sensor.slot_2
              - entity: sensor.pet_feeder_meal_plan_slot_2_power
              - entity: sensor.pet_feeder_meal_plan_slot_2_portions
              - entity: sensor.pet_feeder_meal_plan_slot_2_time
              - entity: sensor.slot_3
              - entity: sensor.pet_feeder_meal_plan_slot_3_power
              - entity: sensor.pet_feeder_meal_plan_slot_3_portions
              - entity: sensor.pet_feeder_meal_plan_slot_3_time
              - entity: sensor.slot_4
              - entity: sensor.pet_feeder_meal_plan_slot_4_power
              - entity: sensor.pet_feeder_meal_plan_slot_4_portions
              - entity: sensor.pet_feeder_meal_plan_slot_4_time
              - entity: sensor.slot_5
              - entity: sensor.pet_feeder_meal_plan_slot_5_power
              - entity: sensor.pet_feeder_meal_plan_slot_5_portions
              - entity: sensor.pet_feeder_meal_plan_slot_5_time
              - entity: sensor.slot_6
              - entity: sensor.pet_feeder_meal_plan_slot_6_power
              - entity: sensor.pet_feeder_meal_plan_slot_6_portions
              - entity: sensor.pet_feeder_meal_plan_slot_6_time
            columns: 4
            card_mod:
              style: |
                ha-card {
                  border-radius: 30px;
                }
                #states > div {
                  margin: 0px 0px !important;
                }
          - type: horizontal-stack
            cards:
              - show_name: true
                show_icon: true
                type: button
                tap_action:
                  action: call-service
                  service: script.pet_feeder_update_plan
                entity: script.pet_feeder_update_plan
                name: Reset New Plan
                card_mod:
                  style: |
                    :host { 
                      --paper-item-icon-color:{{
                            '#00FF00' if states('sensor.pet_feeder_meal_plan') == states('sensor.pet_feeder_new_plan') else 
                            '#CC7700' }};
                    }
                    ha-card {
                    margin: 0px 20px 0px 20px;
                    border-radius: 100px;
                    border-style: solid;
                    border-color:{{
                            '#00FF00' if states('sensor.pet_feeder_meal_plan') == states('sensor.pet_feeder_new_plan') else 
                            '#CC7700' }};
                    }
              - show_name: true
                show_icon: true
                type: button
                tap_action:
                  action: call-service
                  service: script.pet_feeder_set_meal_plan
                entity: script.pet_feeder_set_meal_plan
                name: Set New Plan
                card_mod:
                  style: |
                    :host { 
                      --paper-item-icon-color:{{
                            '#CC7700' if states('sensor.pet_feeder_meal_plan') == states('sensor.pet_feeder_new_plan') else 
                            '#00FF00' }};
                    }
                    ha-card {
                    margin: 0px 20px 0px 20px;
                    border-radius: 100px;
                    border-style: solid;
                    border-color:{{
                            '#CC7700' if states('sensor.pet_feeder_meal_plan') == states('sensor.pet_feeder_new_plan') else 
                            '#00FF00' }};
                    }
      - type: entities
        entities:
          - entity: input_boolean.pet_feeder_slot_1_power
            name: Slot 1 - Power
          - entity: input_number.pet_feeder_slot_1_portions
            name: Slot 1 - Portions
          - entity: input_text.pet_feeder_slot_1_time
            name: Slot 1 - Time
          - entity: input_boolean.pet_feeder_slot_2_power
            name: Slot 2 - Power
          - entity: input_number.pet_feeder_slot_2_portions
            name: Slot 2 - Portions
          - entity: input_text.pet_feeder_slot_2_time
            name: Slot 2 - Time
          - entity: input_boolean.pet_feeder_slot_3_power
            name: Slot 3 - Power
          - entity: input_number.pet_feeder_slot_3_portions
            name: Slot 3 - Portions
          - entity: input_text.pet_feeder_slot_3_time
            name: Slot 3 - Time
          - entity: input_boolean.pet_feeder_slot_4_power
            name: Slot 4 - Power
          - entity: input_number.pet_feeder_slot_4_portions
            name: Slot 4 - Portions
          - entity: input_text.pet_feeder_slot_4_time
            name: Slot 4 - Time
          - entity: input_boolean.pet_feeder_slot_5_power
            name: Slot 5 - Power
          - entity: input_number.pet_feeder_slot_5_portions
            name: Slot 5 - Portions
          - entity: input_text.pet_feeder_slot_5_time
            name: Slot 5 - Time
          - entity: input_boolean.pet_feeder_slot_6_power
            name: Slot 6 - Power
          - entity: input_number.pet_feeder_slot_6_portions
            name: Slot 6 - Portions
          - entity: input_text.pet_feeder_slot_6_time
            name: Slot 6 - Time
        title: New Plan
        show_header_toggle: false
        card_mod:
          style: |
            ha-card {
              border-radius: 30px;
            }
            #states > div {
              margin: 0px 0px !important;
            }
            .card-header {
              padding: 5px 16px 10px 16px;
              justify-content: center !important;
            }
  - theme: Backend-selected
    icon: mdi:sprout
    type: panel
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: entities
            entities: []
            title: Pico Waterer
            card_mod:
              style: |
                .card-header {
                  padding: 5px 16px 10px 16px;
                  justify-content: center !important;
                }
                .card-header {
                  padding: 0px 16px 7px 16px;
                  justify-content: center !important;
                  line-height: 2;
                }
                .card-content {
                  padding: 0;
                }
          - type: horizontal-stack
            cards:
              - type: entities
                entities:
                  - entity: input_number.waterer_min_moisture
                    name: Min Moisture
                    card_mod:
                      style: |
                        :host { 
                        --paper-item-icon-color: {{ 
                          '#00FF00' if (states('sensor.waterer_min_check') | int) <= (states('input_number.waterer_min_moisture') | int) else 
                          '#FF0000' }}; 
                        }
                  - entity: input_number.waterer_max_moisture
                    name: Max Moisture
                    card_mod:
                      style: |
                        :host { 
                        --paper-item-icon-color: {{ 
                          '#00FF00' if (states('sensor.waterer_max_check') | int) >= (states('input_number.waterer_max_moisture') | int) else 
                          '#FF0000' }}; 
                        }
                  - entity: input_number.waterer_min_threshold
                    name: Min Threshold
                  - entity: input_number.waterer_max_threshold
                    name: Max Threshold
                  - entity: input_number.waterer_message_interval
                    name: Read Interval (seconds)
                  - entity: input_number.waterer_max_water_cycles
                    name: Max Water Cycles
                  - entity: input_number.waterer_pump_on_time
                    name: Pump On (seconds)
                  - entity: input_number.waterer_pump_interval
                    name: Pump Off (seconds)
                  - entity: input_number.waterer_reboot_days
                    name: Reboot Time (days)
                title: Config
                card_mod:
                  style: |
                    :host { 
                      --paper-font-body1_-_line-height: 12px;
                      --mdc-typography-body1_-_line-height: 14px;
                      --ha-textfield-input-width: 54px;
                    }
                    .card-header {
                      padding: 5px 16px 10px 16px;
                      justify-content: center !important;
                    }
                    .card-content {
                      padding: 0px 16px 15px 16px;
                    }
                    #states > * {
                      margin: 0px 0px !important;
                    }
              - type: vertical-stack
                cards:
                  - show_name: false
                    show_icon: true
                    type: button
                    tap_action:
                      action: navigate
                      navigation_path: home
                    icon: mdi:home
                    icon_height: 60px
                    card_mod:
                      style: |
                        :host { 
                          --state-unavailable-color: #ffffff; 
                          --paper-item-icon-color: #ffffff; 
                        }
                        ha-card {
                          margin: 0px 40px 0px 40px;
                          border-radius: 100px;
                          border-style: solid;
                          border-color: #ffffff; 
                        }
                  - show_name: true
                    show_icon: true
                    type: button
                    tap_action:
                      action: call-service
                      service: mqtt.publish
                      data:
                        topic: waterer/waterpump
                        payload: Requested
                      target: {}
                    entity: button.water_pump
                    icon: mdi:water-pump
                    icon_height: 40px
                    card_mod:
                      style: |
                        :host { 
                          --state-unavailable-color: {{
                            '#00FF00' if is_state('sensor.waterer_status', 'Moist') else 
                            '#FF0000' if is_state('sensor.waterer_status', 'Dry') else 
                            '#0000FF' }} !important; 
                          --paper-item-icon-color: {{  
                            '#00FF00' if is_state('sensor.waterer_status', 'Moist') else
                            '#FF0000' if is_state('sensor.waterer_status', 'Dry') else 
                            '#0000FF' }}; 
                        }
                        ha-card {
                        margin: 0px 40px 0px 40px;
                        border-radius: 100px;
                        border-style: solid;
                        border-color: {{ 
                          '#00FF00'  if is_state('sensor.waterer_status', 'Moist')  else  
                          '#FF0000' if is_state('sensor.waterer_status', 'Dry') else 
                          '#0000FF' }}; 
                        }
                  - show_name: true
                    show_icon: true
                    type: button
                    tap_action:
                      action: call-service
                      service: mqtt.publish
                      data:
                        topic: waterer/waterpump
                        payload: Cancelled
                      target: {}
                    entity: button.cancel_water
                    icon: mdi:water-pump-off
                    icon_height: 40px
                    card_mod:
                      style: |
                        :host { 
                          --state-unavailable-color: #2e8dd1; 
                          --paper-item-icon-color: #2e8dd1; 
                        }
                        ha-card {
                        margin: 0px 40px 0px 40px;
                        border-radius: 100px;
                        border-style: solid;
                        border-color: #2e8dd1; 
                        }
                  - show_name: true
                    show_icon: true
                    type: button
                    tap_action:
                      action: call-service
                      service: mqtt.publish
                      data:
                        topic: waterer/restart
                        payload: Reboot
                      target: {}
                    entity: button.waterer_reboot
                    icon: mdi:restart
                    icon_height: 40px
                    card_mod:
                      style: |
                        :host { 
                          --state-unavailable-color: #f7a705; 
                          --paper-item-icon-color: #f7a705; 
                        }
                        ha-card {
                          margin: 0px 40px 0px 40px;
                          border-radius: 100px;
                          border-style: solid;
                          border-color: #f7a705; 
                        }
                  - show_name: true
                    name: Publish Config
                    show_icon: true
                    type: button
                    tap_action:
                      action: call-service
                      service: script.turn_on
                      data:
                        entity_id: script.waterer_config_publish
                    entity: script.waterer_config_publish
                    icon: mdi:cog
                    icon_height: 40px
                    card_mod:
                      style: |
                        :host { 
                          --paper-item-icon-color: #ebe134; 
                        }
                        ha-card {
                          margin: 0px 40px 0px 40px;
                          border-radius: 100px;
                          border-style: solid;
                          border-color: #ebe134;
                        }
              - type: vertical-stack
                cards:
                  - type: entities
                    title: Statistics
                    entities:
                      - entity: sensor.waterer_pump
                        name: Pump
                        icon: mdi:water-pump
                        card_mod:
                          style: |
                            :host { 
                              --paper-item-icon-color: {{ 
                                '#FFFF00' if is_state('sensor.waterer_pump', 'Requested') else 
                                '#CC6600' if is_state('sensor.waterer_pump', 'Cancelled') else 
                                '#00FFFF' if is_state('sensor.waterer_pump', 'Low Water') else 
                                '#00FF00' }}; 
                              }
                      - entity: sensor.waterer_status
                        name: Soil State
                        icon: mdi:sprout
                        card_mod:
                          style: |
                            :host { 
                            --paper-item-icon-color: {{ 
                              '#00FF00' if is_state('sensor.waterer_status', 'Moist') else 
                              '#FF0000' if is_state('sensor.waterer_status', 'Dry') else 
                              '#0000FF' }}; 
                            }
                      - entity: sensor.waterer_moisture
                        name: Moisture
                        icon: mdi:water
                        card_mod:
                          style: |
                            :host { 
                            --paper-item-icon-color: {{ 
                              '#00FF00' if is_state('sensor.waterer_status', 'Moist') else 
                              '#FF0000' if is_state('sensor.waterer_status', 'Dry') else 
                              '#0000FF' }}; 
                            }
                    state_color: true
                    card_mod:
                      style: |
                        ha-card {
                          margin: 0 10px 0 0;
                          border-radius: 15px;
                          }
                        #states > div {
                          margin: 0px 0px !important;
                        }
                        :host { 
                          --paper-font-body1_-_line-height: 12px;
                          --mdc-typography-body1_-_line-height: 14px;
                          --ha-textfield-input-width: 54px;
                        }
                        .card-header {
                          padding: 5px 16px 10px 16px;
                          justify-content: center !important;
                        }
                        .card-content {
                          padding: 0px 16px 15px 16px;
                        }
                        #states > * {
                          margin: 0px 0px !important;
                        }
                  - type: entities
                    entities:
                      - entity: sensor.waterer_raw
                      - entity: sensor.waterer_min_check
                        icon: mdi:water-minus
                        card_mod:
                          style: |
                            :host {
                              --paper-item-icon-color: 
                                {{ '#FF0000' if (states('sensor.waterer_min_check') | int) > (states('input_number.waterer_min_moisture') | int) else  
                                '#00FF00'}};
                            }
                      - entity: sensor.waterer_max_check
                        icon: mdi:water-plus
                        card_mod:
                          style: |
                            :host {
                              --paper-item-icon-color: 
                                {{ '#FF0000' if (states('sensor.waterer_max_check') | int) < (states('input_number.waterer_max_moisture') | int) else  
                                '#00FF00'}};
                            }
                    style: |
                      ha-card {
                        margin: 0 10px 0 0;
                        border-radius: 15px;
                      }
                      #states > div {
                        margin: 0px 0px !important;
                      }
                  - type: custom:config-template-card
                    variables:
                      - states['input_number.waterer_min_threshold'].state
                      - states['input_number.waterer_max_threshold'].state
                    entities:
                      - input_number.waterer_min_threshold
                      - input_number.waterer_max_threshold
                    card:
                      type: custom:mini-graph-card
                      entities:
                        - entity: sensor.waterer_moisture
                          name: Moisture
                      hours_to_show: 168
                      points_per_hour: 1
                      animate: true
                      show:
                        fill: true
                        unit: true
                        points: false
                        group: true
                        extrema: true
                        name_adaptive_color: true
                      color_thresholds:
                        - value: 0
                          color: '#FF0000'
                        - value: ${vars[0]}
                          color: '#00FF00'
                        - value: ${vars[1]}
                          color: '#0000FF'
                      card_mode:
                        style: |
                          ha-card {
                            margin: 0 10px 0 0;
                            border-radius: 15px;
                            --paper-item-icon-color: {{ 
                              '#00FF00' if is_state('sensor.waterer_status', 'Moist') else 
                              '#FF0000' if is_state('sensor.waterer_status', 'Dry') else 
                              '#0000FF' }};
                          }
                          .header {
                            justify-content: center !important;
                          }
                          ha-card > div {
                            padding: 0px 5px !important;
                          }
                          .states.flex {
                            justify-content: center !important;
                            margin: -10px 0px -60px 0px;
                          }
  - theme: Backend-selected
    title: Washing Machine
    path: washing-machine
    icon: mdi:washing-machine
    badges: []
    cards:
      - type: entities
        entities:
          - type: custom:fold-entity-row
            head:
              type: custom:config-template-card
              variables:
                - states['sensor.washer_dryer_max_time'].state
                - states['sensor.washer_dryer_delay_time'].state
                - states['sensor.washer_dryer_wash_time'].state
                - states['sensor.washer_dryer_dry_time'].state
              entities:
                - sensor.washer_dryer_max_time
                - sensor.washer_dryer_total_time
                - sensor.washer_dryer_delay_time
                - sensor.washer_dryer_wash_time
                - sensor.washer_dryer_dry_time
              card:
                type: custom:bar-card
                entities:
                  - entity: sensor.washer_dryer_total_time
                    name: |-
                      "${vars[1] > 0 ? 'Washer/Dryer - Delayed'
                       : vars[3] != 'Dry Off' ? 'Washer/Dryer - Drying' 
                       : vars[2] > 0 ? 'Washer/Dryer - Washing' 
                       : 'Washer/Dryer - Finished'}"
                    unit_of_measurement: mins
                    min: '0'
                    max: ${+vars[0]}
                    icon: mdi:washing-machine
                    positions:
                      indicator: 'off'
                    severity:
                      - color: |-
                          "${vars[1] > 0 ? '#7634c7'
                           : vars[3] != 'Dry Off' ? '#c77634'
                           : vars[2] > 0 ? '#2F5A9E'
                           : '#a32e2e'}"
                        from: 0
                        to: 2000
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 30px;
                      --paper-item-icon-color: {{
                        '#7634c7' if (states('sensor.washer_dryer_delay_time') | int(default=0) > 0) else
                        '#c77634' if (states('sensor.washer_dryer_dry_time') != 'Dry Off') else
                        '#2F5A9E' if (states('sensor.washer_dryer_wash_time') | int(default=0) > 0) else
                        '#a32e2e' }};
                    }
                    .card-content {
                      padding: 5px !important;
                    }
                    bar-card-background {
                      margin: 0px 6px 0px 6px !important;
                      border-radius: 30px;
                    }
                    bar-card-backgroundbar {
                      --bar-color: '#000000' !important;
                    }
                    bar-card-currentbar {
                      border-radius: 30px
                    }
            open: true
            entities:
              - entity: sensor.washer_dryer_status
                name: Status
              - entity: sensor.washer_dryer_program
                name: Program
              - entity: sensor.washer_dryer_phase
                name: Phase
              - entity: sensor.washer_dryer_wash_temp
                name: Wash Temp
              - entity: sensor.washer_dryer_spin_speed
                name: Spin Speed
              - entity: sensor.washer_dryer_dry_time
                name: Dry Setting
              - entity: sensor.washer_dryer_wash_time
                name: Cycle Time
              - entity: sensor.washer_dryer_delay_time
                name: Delay Time
              - entity: sensor.washer_dryer_error
                name: Error
            card_mod:
              style: |
                #items {
                  padding: 0px 20px 0px 10px !important;
                }
                ha-icon {
                  margin: 4px !important;
                }
        card_mod:
          style: |
            .card-content {
              padding: 5px !important;
            }
            ha-card {
              border-radius: 30px;
            }
            #states > div {
              margin: 0px 0px !important;
            }
  - icon: mdi:walk
    cards:
      - type: vertical-stack
        cards:
          - type: entities
            entities: []
            title: Walk Recorder
            card_mod:
              style: |
                ha-card {
                  border-radius: 30px;
                  margin: 6px 6px 0px;
                  --ha-card-header-font-size: 40px;
                }
                .card-header {
                  padding: 0px 16px 7px 16px;
                  justify-content: center !important;
                  line-height: 2;
                }
                .card-content {
                  padding: 0;
                }
          - type: horizontal-stack
            cards:
              - type: entities
                entities:
                  - entity: input_number.walk_number
                  - entity: input_datetime.walk_date
                  - entity: input_datetime.walk_start
                  - entity: input_datetime.walk_end
                  - entity: sensor.walk_duration
                  - entity: sensor.walk_money_string
                  - entity: input_number.walk_total_money
              - type: vertical-stack
                cards:
                  - show_name: true
                    show_icon: false
                    show_state: true
                    type: glance
                    entities:
                      - entity: sensor.walk_total_money_string
                        name: Total Money
                    card_mod:
                      style: |
                        :host { 
                          font-size: 30px;
                          line-height: 30px;
                        }
                        ha-card {
                          border-radius: 30px;
                        }
                        .entities.no-header {
                          padding-top: 35px !important;
                        }
                  - square: false
                    type: grid
                    cards:
                      - show_name: true
                        show_icon: true
                        type: button
                        tap_action:
                          action: call-service
                          service: script.walk_start
                          target: {}
                        entity: input_button.walk_start_button
                        icon: mdi:play
                        name: Start
                        card_mod:
                          style: |
                            :host { 
                              --paper-item-icon-color: {{ 
                                '#03fc1c' if is_state('input_boolean.walk_active','on') else
                                '#FFFFFF'}}; 
                            }
                            ha-card {
                              border-radius: 30px;
                            }
                      - show_name: true
                        show_icon: true
                        type: button
                        tap_action:
                          action: call-service
                          service: script.walk_end
                          target: {}
                        entity: input_button.walk_end_button
                        icon: mdi:stop
                        name: End
                        card_mod:
                          style: |
                            :host { 
                              --paper-item-icon-color: {{ 
                                '#fc0303' if is_state('input_boolean.walk_active','on') else
                                '#000000'}}; 
                            }
                            ha-card {
                              border-radius: 30px;
                            }
                    columns: 2
              - type: logbook
                entities:
                  - input_text.walk_final_duration
                card_mod:
                  style: |
                    ha-card {
                      border-radius: 30px;
                    }
    type: panel
  - theme: Backend-selected
    icon: mdi:music
    badges: []
    cards:
      - type: humidifier
        entity: humidifier.aromatherapy_machine
        name: Mist
        show_current_as_primary: false
        features:
          - style: icons
            modes:
              - small
              - large
            type: humidifier-modes
          - type: humidifier-toggle
        card_mod:
          style: |
            ha-card {
              --name-font-size: 1rem !important;
              --mdc-icon-button-size: 30px !important;
              border-radius: 30px;
            }
            #info {
              padding: 2px 0 5px 0 !important;
            }
            #controls {
              padding: 0 16px 16px !important;
            }
            #slider {
              min-width: 20px !important;
            }
            .mdc-icon-button {
              padding: 16px !important;
            }
            ha-icon-button.more-info {
              display: none !important;
            }
            #humidity {
              height: 100% !important;
            }
      - type: vertical-stack
        cards:
          - type: custom:mini-media-player
            entity: media_player.27_smart_monitor_m5
            card_mod:
              style: |
                :host {
                  --mmp-border-radius: 30px !important;
                }
                ha-card {
                  border-radius: 30px;
                  margin: 0px 6px;
                  --ha-card-header-font-size: 20px;
                }
          - type: custom:mushroom-media-player-card
            entity: media_player.27_smart_monitor_m5_2
            use_media_info: true
            card_mod:
              style: |
                ha-card {
                  border-radius: 30px;
                  margin: 0px 6px;
                }
  - theme: Backend-selected
    icon: mdi:floor-plan
    type: panel
    badges: []
    cards:
      - type: weather-forecast
        entity: weather.forecast_home
        show_forecast: false
  - title: test
    path: test
    cards:
      - type: custom:bar-card
        direction: up
        stack: horizontal
        height: 200px
        width: 40px
        entities:
          - entity: light.downstairs_lights
            name: LOWER DECK
          - entity: light.upstairs_lights
            name: UPPER DECK
        positions:
          name: outside
          icon: 'off'
        card_mod:
          class: middle
          style: |
            ha-card {
              background: none;
              border: none;
            }
            bar-card-card {
              width: 10px;
            }
      - type: custom:my-slider-v2
        title: Upstairs Lights
        entity: light.living_room_lights
        vertical: true
        allowTapping: false
        allowSliding: true
        styles:
          card:
            - height: 200px
              width: 50px
          track:
            - background: '#444444'
          progress:
            - background: |
                [[[
                  if (entity.state == "on") return "lightyellow";
                ]]]
          thumb:
            - background: orange
        card_mod:
          class: middle-blank
      - type: horizontal-stack
        cards:
          - type: markdown
            content: '&nbsp;'
          - type: custom:my-slider-v2
            title: Upstairs Lights
            entity: light.living_room_lights
            vertical: true
            allowTapping: false
            allowSliding: true
            styles:
              card:
                - height: 200px
              container:
                - width: 50px
                  position: relative
              track:
                - background: '#444444'
              progress:
                - background: |
                    [[[
                      if (entity.state == "on") return "lightyellow";
                    ]]]
              thumb:
                - background: orange
            card_mod:
              class: middle-blank
          - type: custom:my-slider-v2
            title: Upstairs Lights
            entity: light.living_room_lights
            mode: light:hue
            vertical: true
            allowTapping: false
            allowSliding: true
            styles:
              card:
                - height: 200px
                  width: 50px
              track:
                - background: '#444444'
              progress:
                - background: |
                    [[[
                      if (entity.state == "on") return "lightyellow";
                    ]]]
              thumb:
                - background: orange
            card_mod:
              class: middle-blank
          - type: markdown
            content: '&nbsp;'
